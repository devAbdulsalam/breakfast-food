// //Our Menus
const ourMenu = [{
        id:  1,
        tittle:"Rice",
        category:"lunch",
        img:"./images/rice.jpg",
        desc: "par-boiled with stem",
        price: 40,
        rating: 4.5,
        },
        {
        id: 2,
        tittle:"okra",
        category:"dinner",
        img:"./images/okra.jpg",
        desc: "with fis and meat",
        price: 30,
        rating: 4.5,
        },
        {
        id: 3,
        tittle:"Pounded Yam",
        category:"lunch",
        img:"./images/poundedYam.jpg",
        desc: "pounded yam and egusi",
        price: 15,
        rating: 5,
        },
        {
        id: 4,
        tittle:"TEA",
        category:"breakfast",
        img:"./images/tea.jfif",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 70,
        rating: 4.5,
        },
        {
        id: 5,
        tittle:"Pap",
        category:"breakfast",
        img:"./images/pap.jfif",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 750,
        rating: 4.5,
        },
        {
        id: 6,
        tittle:"SPAGETI",
        category:"breakfast",
        img:"./images/spageti.jfif",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 40,
        rating: 4.5,
        },
        {
        id: 7,
        tittle:"mOI-mOI",
        category:"dinner",
        img:"./images/moi-moi.png",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 100,
        rating: 4.5,
        },
        {
        id: 8,
        tittle:"semo",
        category:"dinner",
        img:"./images/semo.jfif",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 7,
        rating: 4.5,
        },
        {
        id: 9,
        tittle:"Eba",
        category:"breakfast",
        img:"./images/eba.jfif",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 70,
        rating: 4.5,
        },
        {
        id: 10,
        tittle:"Amala",
        category:"breakfast",
        img:"./images/soup.jfif",
        desc: "With complement of Ewedu Soup",
        price: 650,
        rating: 5,
        },
        {
        id: 11,
        tittle:"Whaet",
        category:"breakfast",
        img:"./images/semo.jfif",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 600,
        rating: 4.5,
        },
        {
        id: 12,
        tittle:"Slice Yam",
        category:"lunch",
        img:"./images/slice_yam.jpg",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 40,
        rating: 4.5,
        },
        {
        id: 13,
        tittle:"Foo foo",
        category:"breakfast",
        img:"./images/semo.jfif",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 60,
        rating: 4.5,
        },
        {
        id: 14,
        tittle:"Chicken",
        category:"lunch",
        img:"./images/chicken.jfif",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 900,
        rating: 4.5,
        },
        {
        id: 15,
        tittle:"Goat Meat",
        category:"dinner",
        img:"./images/rabbit.jfif",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 20,
        rating: 4.5,
        },
        {
        id: 16,
        tittle:"Snail Meat",
        category:"dinner",
        img:"./images/snails.jpg",
        desc: "js;dfhjdfhksdjghoirerou ri] with stem",
        price: 80,
        rating: 4.5,
        },
        {
        id: 17,
        tittle:"Rabbit",
        category:"lunch",
        img:"./images/rabbit.jfif",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 75,
        rating: 5,
        },
        {
        id: 18,
        tittle:"Harish Patato",
        category:"breakfast",
        img:"./images/rice.jpg",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 96,
        rating: 4.5,
        },
        {
        id: 19,
        tittle:"Rosted Chiken",
        category:"lunch",
        img:"./images/ch.jfif",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 84,
        rating: 4.5,
        },
        {
        id: 20,
        tittle:"Noddles",
        category:"breakfast",
        img:"./images/spageti.jfif",
        desc: "par-sfifjioerhghlerihio[ri] with stem",
        price: 90,
        rating: 4.5,
        },
        {
        id: 21,
        tittle:"fish_roll",
        category:"snack",
        img:"./images/fish.jpg",
        desc:"delici kjdhddfdf ous",
        price: 90,
        rating: 5
        },
        {
        id: 22,
        tittle:"sousage_roll",
        category:"snack",
        img:"./images/fishroll.jfif",
        desc:"delicious",
        price: 70,
        rating: 5,
        },
        {
        id: 23,
        tittle:"Samosal",
        category:"snack",
        img:"./images/samosa.jfif",
        desc:"delicious",
        price: 33,
        rating: 4,
        },
        {
        id: 24,
        tittle:"egg_roll",
        category:"snack",
        img:"./images/egg.jfif",
        desc:"delicious",
        price:"400",
        rating: 4.5,
        },
        {
        id: 25,
        tittle:"pizza_roll",
        category:"snack",
        img:"./images/pizza.jfif",
        desc:"delicious",
        price: 96,
        rating: 5,
        },
        {
        id: 26,
        tittle:"meat_roll",
        category:"snack",
        img:"./images/fishroll.jfif",
        desc:"delicious",
        price: 89,
        rating: 5,
        },
        {
        id: 27,
        tittle:"milk biscuit",
        category:"snack",
        img:"./images/biscuit.jfif",
        desc:"delicious kjjkldfsdfkl",
        price: 89,
        rating: 5,
        },
        {
        id: 28,
        tittle:"Custard",
        category:"breakfast",
        img:"./images/custard.jfif",
        desc:"delicious kjjkldfsdfkl",
        price: 45,
        rating: 5,
        },
        {
        id: 29,
        tittle:"meat-pie",
        category:"snack",
        img:"./images/rice.jpg",
        desc:"delicious kjjkldfsdfkl",
        price:41,
        rating: 5,
        },
        {
        id: 30,
        tittle:"Snail soup",
        category:"dinner",
        img:"./images/snail.jpg",
        desc:"delicious kjjkldfsdfkl",
        price: 94,
        rating: 4.5,
        },
        {
        id: 31,
        tittle:"Donut",
        category:"snack",
        img:"./images/samosa.jfif",
        desc:"delicious kjjkldfsdfkl",
        price:49,
        rating: 5,
        },
        {
        id: 32,
        tittle:"Beans",
        category:"dinner",
        img:"./images/samosa.jfif",
        desc:"delicious kjjkldfsdfkl",
        price:49,
        rating: 4,
        },
        {
        id: 33,
        tittle:"Water Yam",
        category:"lunch",
        img:"./images/samosa.jfif",
        desc:"delicious kjjkldfsdfkl",
        price:49,
        rating: 4,
        },
        {
        id: 34,
        tittle:"",
        category:"breakfast",
        img:"./images/samosa.jfif",
        desc:"delicious kjjkldfsdfkl",
        price:49,
        rating: 4.5,
        },
        {
        id: 35,
        tittle:"Macaroni",
        category:"breakfast",
        img:"./images/samosa.jfif",
        desc:"delicious kjjkldfsdfkl",
        price:49,
        rating: 4,
        },
        {
        id: 36,
        tittle:"last item",
        category:"snack",
        img:"./images/samosa.jfif",
        desc:"delicious kjjkldfsdfkl",
        price:49,
        rating: 4,
        },
];
 
   // //window load menus
window.addEventListener('DOMContentLoaded', ()=>{
    let foodToDisplay = ourMenu.filter(function(fiveStar){
        if (fiveStar.rating === 5){
            return fiveStar
        }
    })  
    twelveItem(foodToDisplay);
})


// // display food items to menu Section
const menuCard = document.getElementById("menuCard");
let NavMenuBtns = document.getElementById("NavMenuBtns");
let menuNav = document.querySelectorAll("#menuNav");
 let previous = document.querySelector(".Previous");
 let next = document.querySelector(".next");

    // //items to be desplayed on the menu list
    let itemStart = 0;
    let itemEnd = 11;
const twelveItem = function(allItem){
     if(allItem.length <= 11){
        // console.log("i am less than 12")
         NavMenuBtns.classList.add("hideme")
        return displayMenu(allItem);
        } else {

    NavMenuBtns.classList.remove("hideme")
    previous.removeAttribute("disabled")
    next.removeAttribute("disabled")  
      menuNav.forEach(button => {
          button.addEventListener('click', (e)=>{
                    // let attr = document.createAttribute("disabled");
                    let btnid = e.target.dataset.id
                    if ((itemStart >= 0) && (itemEnd <= allItem.length -1)) {     
                                                
                            if(btnid === "next"){
                                itemStart += 12
                                itemEnd += 12
                                if(itemEnd > allItem.length - 1 ){
                                    itemStart = allItem.length - 12;
                                    itemEnd = allItem.length - 1;
                                    {next.setAttribute(disabled)}
                                }
                                // console.log(itemStart, itemEnd)
                                nextTwelve (itemStart, itemEnd)
                            } else if (btnid === "Previous"){
                                itemStart -= 12;
                                itemEnd -= 12 
                                if(itemStart < 0){
                                    itemStart = 0;
                                    itemEnd = 11;
                                    {previous.setAttribute(disabled)}
                                }      
                                // console.log(itemStart, itemEnd)
                                nextTwelve (itemStart, itemEnd)
                            }
                        }
                    })
                });
                                
                var nextTwelve = function( itemStart, itemEnd){
                    let nexttwelve = allItem.filter(function(index, show12,){
                        console.log("we the next twelve")
                        return(show12 >= itemStart && show12  <= itemEnd)
                        });
                    // console.log(nexttwelve)
                    return displayMenu(nexttwelve)
                }
                //  // //DISPALY first 12 ITEMS AT A TIME
        let twelveItems = allItem.filter(function(index, show12,){
            //  console.log("we the first twelve")
            return(show12 >= itemStart && show12  <= itemEnd)
        });
        // console.log(twelveItems)
       return displayMenu(twelveItems)
            }
    }
const displayMenu = function (menuList){
    // item to be displayed on the menu
    let displayMenu = menuList.map(function (item){ 
        return `<article id="food" class="w-full rounded-lg shadow-lg m-2 text-center cursor-pointer bg-gray-100 transform 
                    hover:scale-105 transition-transform ease-in-out duration-200">
                    <div class="flex flex-col lg:flex-row justify-between gap-0">
                        <img id="foodImg" class="w-full lg:w-56 h-60 object-fit object-center border-4 border-yellow-400 rounded-lg" src=${item.img} alt="${item.tittle}">
                        <div class="m-1 place-self-center md:w-11/12 lg:w-full">
                            <div class="w-full flex justify-between lg:flex-wrap border-b-2 border-gray-500">
                                <h3 id="title" class="text-xl font-bold text-gray-800 uppercase">${item.tittle}</h3>
                                <p class="text-yellow-600 text-lg font-bold">$${item.price}</p>
                            </div>
                            <div class="text-lg ml-3">
                                <p id="desc" class="text-left">${item.desc}</p>
                                <p class="text-yellow-600 text-lg mr-3 mt-3 font-bold text-right"><span id="rating">${item.rating}</span><i class="fa fa-star"></i></p>
                            </div>
                        </div>
                    </div>
                </article>`
    });
    displayMenu = displayMenu.join("");
    menuCard.innerHTML = displayMenu;
    if(menuCard.innerHTML == displayMenu == true){
        menuCard.innerHTML = `<h1 class="text-3xl text-red-200 grid-2 text-center">NO ITEM FOUND</h1>`;
    }else{
        console.log("FOUND SOMETHIGN");bg-center

    }
    const selectedfood = document.querySelectorAll("#food")
    // console.log(selectedfood)
        selectedfood.forEach(food =>{
            food.addEventListener('click', (e) => {
                window.location.href="form.html"
                console.log("food to be added to cart");
            })
        })
};

    // // menu buttons to search for foods
const menuBtn = document.querySelectorAll("#menuBtn");
menuBtn.forEach(button => {
    button.addEventListener('click', (e)=>{
        // //add active to the target button
        menuBtn.forEach(button =>{
            button.classList.remove("activebtn")
        })
        e.target.classList.add("activebtn")
        const btnCategory = e.target.dataset.id;
        let menuCategory = ourMenu.filter(function (menuItem){
            // console.log(menuItem);
            if(menuItem.category === btnCategory)
            return  menuItem
        })
            twelveItem(menuCategory);
            // console.log(menuCategory);
            if(btnCategory === "all"){
                twelveItem(ourMenu);
            };
    });
});

    // //searchinputs to search for food
const searchInput = document.getElementById("searchInput");
const searchFeilds= document.getElementById("searchFeilds");
const searchBtn = document.getElementById("searchBtn");
const searchby= document.getElementById("searchby");

searchInput.addEventListener('input', e => {
const value = e.target.value.toLowerCase();
    let searchedItem = ourMenu.filter(function (menuItem){
    if (menuItem.category.toLowerCase().includes(value) ||
        menuItem.tittle.toLowerCase().includes(value) ||
        menuItem.desc.toLowerCase().includes(value) ||
        menuItem.price == (value))
        {
            return menuItem;
        }
    });
twelveItem(searchedItem);
})

    // //search food with search option
searchBtn.addEventListener('click', () => {
    let searchFor = searchby.value
    let value = searchInput.value.toLowerCase();
    if(searchFor == "tittle" || searchFor == "desc"){
        let searchedForm = ourMenu.filter(function (menuItem){
        if(menuItem[searchFor].includes(value)){
                return menuItem   
            }
        })
        twelveItem(searchedForm);
    }
    if (searchFor == "price"){
        value = searchInput.value
        let searchedForm = ourMenu.filter(function (menuItem){
        if(menuItem[searchFor] == value){
                return menuItem   
            }
        })
        twelveItem(searchedForm);
    }      
    if(searchFor === "all"){
        let searchAll = ourMenu.filter(function (menuItem){
        if (menuItem.category.toLowerCase().includes(value) ||
            menuItem.tittle.toLowerCase().includes(value) ||
            menuItem.desc.toLowerCase().includes(value) ||
            menuItem.price == (value) ||
            menuItem.rating == (value))
            {
                return menuItem;
            }
        });
    twelveItem(searchAll);
    }  
    if(searchFor == "breakfast" || searchFor == "lunch" || searchFor == "dinner" || searchFor == "snack"){
        let searchAll = ourMenu.filter(function (menuItem){
            if(menuItem.category == searchFor){
                    return menuItem;
            }
        });
        let searchme = searchAll.filter(function (menuItem){
        if (menuItem.category.toLowerCase().includes(value) ||
            menuItem.tittle.toLowerCase().includes(value) ||
            menuItem.desc.toLowerCase().includes(value) ||
            menuItem.price == (value) ||
            menuItem.rating == (value))
            {
                return menuItem;
            }
        })
    // console.log(searchAll)
    // console.log(searchme)
    twelveItem(searchme);
    }  
});``